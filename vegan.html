<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vegan Recipes - RecipeHub</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .category-hero {
            background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%);
            color: white;
            padding: 100px 0 60px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .category-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }
        
        .category-hero-content {
            position: relative;
            z-index: 1;
        }
        
        .category-icon {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.9;
        }
        
        .category-title {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .category-description {
            font-size: 18px;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 30px;
        }
        
        .category-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
        }
        
        .category-stat {
            text-align: center;
        }
        
        .category-stat-number {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .category-stat-label {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .category-filters {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            margin: -30px auto 40px;
            max-width: 1000px;
            position: relative;
            z-index: 2;
        }
        
        .filter-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-tab {
            padding: 10px 20px;
            background: var(--bg-light);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }
        
        .filter-tab.active {
            background: #4CAF50;
            color: white;
        }
        
        .filter-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .filter-group label {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-light);
            text-transform: uppercase;
        }
        
        .filter-group select {
            padding: 10px 15px;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 14px;
            outline: none;
            transition: var(--transition);
        }
        
        .filter-group select:focus {
            border-color: #4CAF50;
        }
        
        .category-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px 60px;
            overflow: hidden;
            word-wrap: break-word;
        }
        
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .results-info {
            color: var(--text-light);
        }
        
        .sort-options {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .sort-options select {
            padding: 8px 15px;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 14px;
            outline: none;
        }
        
        .featured-section {
            margin-bottom: 60px;
        }
        
        .section-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-dark);
        }
        
        .featured-recipe {
            background: white;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            margin-bottom: 30px;
        }
        
        .featured-recipe-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }
        
        .featured-recipe-content {
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .featured-recipe-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--text-dark);
        }
        
        .featured-recipe-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            font-size: 14px;
            color: var(--text-light);
        }
        
        .featured-recipe-description {
            font-size: 16px;
            line-height: 1.6;
            color: var(--text-dark);
            margin-bottom: 25px;
        }
        
        .featured-recipe-actions {
            display: flex;
            gap: 15px;
        }
        
        .recipes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .recipe-card {
            background: white;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            transition: var(--transition);
            cursor: pointer;
        }
        
        .recipe-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .recipe-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .recipe-content {
            padding: 20px;
        }
        
        .recipe-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-dark);
        }
        
        .recipe-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 14px;
            color: var(--text-light);
        }
        
        .recipe-description {
            color: var(--text-light);
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .recipe-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .recipe-rating {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .stars {
            color: var(--accent-color);
        }
        
        .recipe-author {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--text-light);
        }
        
        .author-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 40px;
        }
        
        .pagination button {
            padding: 10px 15px;
            border: 2px solid var(--border-color);
            background: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .pagination button:hover:not(:disabled) {
            border-color: #4CAF50;
            color: #4CAF50;
        }
        
        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .pagination .active {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }
        
        @media (max-width: 768px) {
            .category-title {
                font-size: 36px;
            }
            
            .category-stats {
                flex-direction: column;
                gap: 20px;
            }
            
            .category-filters {
                margin: -20px 20px 40px;
            }
            
            .filter-tabs {
                justify-content: center;
            }
            
            .filter-options {
                grid-template-columns: 1fr;
            }
            
            .content-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .featured-recipe {
                grid-template-columns: 1fr;
            }
            
            .featured-recipe-content {
                padding: 30px 20px;
            }
            
            .featured-recipe-title {
                font-size: 24px;
            }
            
            .recipes-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-utensils"></i>
                <span>RecipeHub</span>
            </div>
            
            <div class="nav-search">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search vegan recipes..." id="searchInput">
                    <button class="search-btn">
                        <i class="fas fa-search"></i>
                        Search
                    </button>
                </div>
            </div>
            
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="explore.html" class="nav-link">Browse</a>
                <a href="create-recipe.html" class="nav-link">Create</a>
                <a href="user-profile.html" class="nav-link">Profile</a>
                <div class="nav-auth">
                    <button class="btn btn-outline" id="loginBtn">Login</button>
                    <button class="btn btn-primary" id="signupBtn">Sign Up</button>
                </div>
            </div>
            
            <div class="nav-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- Category Hero -->
    <section class="category-hero">
        <div class="category-hero-content">
            <div class="category-icon">ðŸŒ±</div>
            <h1 class="category-title">Vegan Recipes</h1>
            <p class="category-description">Discover delicious plant-based recipes that are good for you and the planet. From hearty mains to sweet treats, find your next favorite vegan dish.</p>
            
            <div class="category-stats">
                <div class="category-stat">
                    <div class="category-stat-number">1,247</div>
                    <div class="category-stat-label">Vegan Recipes</div>
                </div>
                <div class="category-stat">
                    <div class="category-stat-number">4.7</div>
                    <div class="category-stat-label">Avg Rating</div>
                </div>
                <div class="category-stat">
                    <div class="category-stat-number">2.3M</div>
                    <div class="category-stat-label">Total Views</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Category Filters -->
    <div class="category-filters">
        <div class="filter-tabs">
            <button class="filter-tab active" data-filter="all">All Vegan</button>
            <button class="filter-tab" data-filter="popular">Most Popular</button>
            <button class="filter-tab" data-filter="recent">Recently Added</button>
            <button class="filter-tab" data-filter="rating">Highest Rated</button>
            <button class="filter-tab" data-filter="quick">Quick & Easy</button>
        </div>
        
        <div class="filter-options">
            <div class="filter-group">
                <label>Difficulty</label>
                <select id="difficultyFilter">
                    <option value="">All Levels</option>
                    <option value="Easy">Easy</option>
                    <option value="Medium">Medium</option>
                    <option value="Hard">Hard</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Time</label>
                <select id="timeFilter">
                    <option value="">Any Time</option>
                    <option value="15">15 min or less</option>
                    <option value="30">30 min or less</option>
                    <option value="60">1 hour or less</option>
                    <option value="120">2 hours or less</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Rating</label>
                <select id="ratingFilter">
                    <option value="">Any Rating</option>
                    <option value="4.5">4.5+ stars</option>
                    <option value="4.0">4.0+ stars</option>
                    <option value="3.5">3.5+ stars</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Servings</label>
                <select id="servingsFilter">
                    <option value="">Any Servings</option>
                    <option value="1">1-2 servings</option>
                    <option value="4">3-4 servings</option>
                    <option value="6">5-6 servings</option>
                    <option value="8">7+ servings</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Category Content -->
    <div class="category-content">
        <!-- Featured Recipe -->
        <div class="featured-section">
            <h2 class="section-title">Featured Vegan Recipe</h2>
            <div class="featured-recipe" id="featuredRecipe">
                <!-- Featured recipe will be loaded dynamically -->
            </div>
        </div>

        <!-- All Recipes -->
        <div class="content-header">
            <div class="results-info" id="resultsInfo">Loading vegan recipes...</div>
            <div class="sort-options">
                <label for="sortBy">Sort by:</label>
                <select id="sortBy">
                    <option value="popular">Most Popular</option>
                    <option value="recent">Recently Added</option>
                    <option value="rating">Highest Rated</option>
                    <option value="time">Quickest First</option>
                </select>
            </div>
        </div>
        
        <div class="recipes-grid" id="recipesGrid">
            <!-- Recipes will be loaded dynamically -->
        </div>
        
        <!-- Pagination -->
        <div class="pagination" id="pagination">
            <!-- Pagination will be generated dynamically -->
        </div>
    </div>

    <script>
        // Theme management
        document.addEventListener('DOMContentLoaded', function() {
            // Dark mode removed
            const navSearchBtn = document.querySelector('.nav-search .search-btn');
            if (navSearchBtn) {
                navSearchBtn.addEventListener('click', function() {
                    const term = (document.getElementById('searchInput')?.value || '').trim();
                    const url = term ? `../browse.html?q=${encodeURIComponent(term)}` : '../browse.html';
                    window.location.href = url;
                });
            }
        }, { once: true });

        function initTheme() {
            const saved = localStorage.getItem('rh_theme');
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = saved || (prefersDark ? 'dark' : 'light');
            setTheme(theme);
        }

        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('rh_theme', theme);
            const icon = document.querySelector('#themeToggle i');
            if (icon) {
                icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            }
        }

        function toggleTheme() {
            const current = document.documentElement.getAttribute('data-theme') || 'light';
            setTheme(current === 'dark' ? 'light' : 'dark');
        }

        // Vegan recipes data
        const veganRecipes = [
            {
                id: 1,
                title: "Quinoa Buddha Bowl",
                description: "Nutritious bowl packed with quinoa, roasted vegetables, and tahini dressing.",
                image: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
                prepTime: 20,
                cookTime: 30,
                servings: 2,
                difficulty: "Easy",
                rating: 4.5,
                reviewCount: 67,
                views: 15420,
                author: {
                    name: "Emma Green",
                    avatar: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                },
                tags: ["Healthy", "Vegan", "Quinoa"],
                category: "healthy",
                dietary: ["vegan", "gluten-free"],
                createdAt: "2024-01-11"
            },
            {
                id: 2,
                title: "Vegan Chocolate Avocado Mousse",
                description: "Rich and creamy chocolate mousse made with avocado - you won't believe it's vegan!",
                image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
                prepTime: 15,
                cookTime: 0,
                servings: 4,
                difficulty: "Easy",
                rating: 4.8,
                reviewCount: 124,
                views: 28900,
                author: {
                    name: "Sophie Martin",
                    avatar: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                },
                tags: ["Dessert", "Vegan", "Chocolate"],
                category: "desserts",
                dietary: ["vegan", "gluten-free"],
                createdAt: "2024-01-10"
            },
            {
                id: 3,
                title: "Vegan Lentil Curry",
                description: "Hearty and flavorful lentil curry with coconut milk and aromatic spices.",
                image: "https://images.unsplash.com/photo-1512058564366-18510be2db19?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
                prepTime: 15,
                cookTime: 35,
                servings: 4,
                difficulty: "Medium",
                rating: 4.6,
                reviewCount: 89,
                views: 22300,
                author: {
                    name: "Priya Patel",
                    avatar: "https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                },
                tags: ["Curry", "Vegan", "Lentils"],
                category: "asian",
                dietary: ["vegan", "gluten-free"],
                createdAt: "2024-01-09"
            },
            {
                id: 4,
                title: "Vegan Cauliflower Wings",
                description: "Crispy cauliflower wings with buffalo sauce - perfect for game day!",
                image: "https://images.unsplash.com/photo-1565299585323-38174c4aab9e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
                prepTime: 20,
                cookTime: 25,
                servings: 4,
                difficulty: "Medium",
                rating: 4.4,
                reviewCount: 156,
                views: 18700,
                author: {
                    name: "Mike Chen",
                    avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                },
                tags: ["Appetizer", "Vegan", "Cauliflower"],
                category: "quick",
                dietary: ["vegan"],
                createdAt: "2024-01-08"
            },
            {
                id: 5,
                title: "Vegan Mac and Cheese",
                description: "Creamy vegan mac and cheese made with cashews and nutritional yeast.",
                image: "https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
                prepTime: 15,
                cookTime: 20,
                servings: 4,
                difficulty: "Easy",
                rating: 4.7,
                reviewCount: 203,
                views: 31200,
                author: {
                    name: "Sarah Johnson",
                    avatar: "https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                },
                tags: ["Comfort Food", "Vegan", "Pasta"],
                category: "comfort",
                dietary: ["vegan"],
                createdAt: "2024-01-07"
            },
            {
                id: 6,
                title: "Vegan Smoothie Bowl",
                description: "Colorful smoothie bowl topped with fresh fruits, nuts, and seeds.",
                image: "https://images.unsplash.com/photo-1546554137-f86b9593a222?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",
                prepTime: 10,
                cookTime: 0,
                servings: 1,
                difficulty: "Easy",
                rating: 4.3,
                reviewCount: 78,
                views: 12900,
                author: {
                    name: "Emma Green",
                    avatar: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                },
                tags: ["Breakfast", "Vegan", "Smoothie"],
                category: "breakfast",
                dietary: ["vegan", "gluten-free"],
                createdAt: "2024-01-06"
            }
        ];

        let filteredRecipes = [...veganRecipes];
        let currentPage = 1;
        const recipesPerPage = 9;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            loadRecipes();
        });

        function setupEventListeners() {
            // Search
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            
            // Filter tabs
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.addEventListener('click', handleFilterTab);
            });
            
            // Filters
            document.getElementById('difficultyFilter').addEventListener('change', applyFilters);
            document.getElementById('timeFilter').addEventListener('change', applyFilters);
            document.getElementById('ratingFilter').addEventListener('change', applyFilters);
            document.getElementById('servingsFilter').addEventListener('change', applyFilters);
            document.getElementById('sortBy').addEventListener('change', applyFilters);
        }

        function handleSearch(e) {
            const query = e.target.value.toLowerCase();
            filteredRecipes = veganRecipes.filter(recipe => 
                recipe.title.toLowerCase().includes(query) ||
                recipe.description.toLowerCase().includes(query) ||
                recipe.tags.some(tag => tag.toLowerCase().includes(query))
            );
            currentPage = 1;
            loadRecipes();
        }

        function handleFilterTab(e) {
            // Update active tab
            document.querySelectorAll('.filter-tab').forEach(tab => tab.classList.remove('active'));
            e.target.classList.add('active');
            
            const filter = e.target.dataset.filter;
            applyFilter(filter);
        }

        function applyFilter(filter) {
            switch(filter) {
                case 'all':
                    filteredRecipes = [...veganRecipes];
                    break;
                case 'popular':
                    filteredRecipes = [...veganRecipes].sort((a, b) => b.views - a.views);
                    break;
                case 'recent':
                    filteredRecipes = [...veganRecipes].sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                    break;
                case 'rating':
                    filteredRecipes = [...veganRecipes].sort((a, b) => b.rating - a.rating);
                    break;
                case 'quick':
                    filteredRecipes = veganRecipes.filter(recipe => (recipe.prepTime + recipe.cookTime) <= 30);
                    break;
            }
            currentPage = 1;
            loadRecipes();
        }

        function applyFilters() {
            const difficulty = document.getElementById('difficultyFilter').value;
            const maxTime = document.getElementById('timeFilter').value;
            const minRating = document.getElementById('ratingFilter').value;
            const servings = document.getElementById('servingsFilter').value;
            const sortBy = document.getElementById('sortBy').value;

            filteredRecipes = veganRecipes.filter(recipe => {
                if (difficulty && recipe.difficulty !== difficulty) return false;
                if (maxTime && (recipe.prepTime + recipe.cookTime) > parseInt(maxTime)) return false;
                if (minRating && recipe.rating < parseFloat(minRating)) return false;
                if (servings && recipe.servings < parseInt(servings)) return false;
                return true;
            });

            // Sort recipes
            switch (sortBy) {
                case 'popular':
                    filteredRecipes.sort((a, b) => b.views - a.views);
                    break;
                case 'recent':
                    filteredRecipes.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                    break;
                case 'rating':
                    filteredRecipes.sort((a, b) => b.rating - a.rating);
                    break;
                case 'time':
                    filteredRecipes.sort((a, b) => (a.prepTime + a.cookTime) - (b.prepTime + b.cookTime));
                    break;
            }

            currentPage = 1;
            loadRecipes();
        }

        function loadRecipes() {
            // Load featured recipe
            loadFeaturedRecipe();
            
            // Load paginated recipes
            const startIndex = (currentPage - 1) * recipesPerPage;
            const endIndex = startIndex + recipesPerPage;
            const pageRecipes = filteredRecipes.slice(startIndex, endIndex);

            const recipesGrid = document.getElementById('recipesGrid');
            const resultsInfo = document.getElementById('resultsInfo');

            // Update results info
            resultsInfo.textContent = `Showing ${startIndex + 1}-${Math.min(endIndex, filteredRecipes.length)} of ${filteredRecipes.length} vegan recipes`;

            if (pageRecipes.length === 0) {
                recipesGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: var(--text-light);">
                        <i class="fas fa-search" style="font-size: 64px; margin-bottom: 20px; color: var(--border-color);"></i>
                        <h3 style="font-size: 24px; margin-bottom: 10px; color: var(--text-dark);">No vegan recipes found</h3>
                        <p>Try adjusting your search criteria or filters</p>
                    </div>
                `;
                document.getElementById('pagination').innerHTML = '';
                return;
            }

            // Render recipes
            recipesGrid.innerHTML = pageRecipes.map(recipe => `
                <div class="recipe-card" onclick="goToRecipe(${recipe.id})">
                    <img src="${recipe.image}" alt="${recipe.title}" class="recipe-image">
                    <div class="recipe-content">
                        <h3 class="recipe-title">${recipe.title}</h3>
                        <div class="recipe-meta">
                            <span><i class="fas fa-clock"></i> ${recipe.prepTime + recipe.cookTime} min</span>
                            <span><i class="fas fa-users"></i> ${recipe.servings} servings</span>
                            <span><i class="fas fa-signal"></i> ${recipe.difficulty}</span>
                        </div>
                        <p class="recipe-description">${recipe.description}</p>
                        <div class="recipe-footer">
                            <div class="recipe-rating">
                                <div class="stars">
                                    ${generateStars(recipe.rating)}
                                </div>
                                <span>${recipe.rating}</span>
                            </div>
                            <div class="recipe-author">
                                <img src="${recipe.author.avatar}" alt="${recipe.author.name}" class="author-avatar">
                                <span>${recipe.author.name}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            // Generate pagination
            generatePagination();
        }

        function loadFeaturedRecipe() {
            const featuredRecipe = filteredRecipes[0]; // Get first recipe as featured
            if (featuredRecipe) {
                const featuredContainer = document.getElementById('featuredRecipe');
                featuredContainer.innerHTML = `
                    <img src="${featuredRecipe.image}" alt="${featuredRecipe.title}" class="featured-recipe-image">
                    <div class="featured-recipe-content">
                        <h3 class="featured-recipe-title">${featuredRecipe.title}</h3>
                        <div class="featured-recipe-meta">
                            <span><i class="fas fa-clock"></i> ${featuredRecipe.prepTime + featuredRecipe.cookTime} min</span>
                            <span><i class="fas fa-users"></i> ${featuredRecipe.servings} servings</span>
                            <span><i class="fas fa-signal"></i> ${featuredRecipe.difficulty}</span>
                            <span><i class="fas fa-eye"></i> ${featuredRecipe.views.toLocaleString()} views</span>
                        </div>
                        <p class="featured-recipe-description">${featuredRecipe.description}</p>
                        <div class="featured-recipe-actions">
                            <button class="btn btn-primary" onclick="goToRecipe(${featuredRecipe.id})">
                                <i class="fas fa-play"></i> Start Cooking
                            </button>
                            <button class="btn btn-outline" onclick="goToRecipe(${featuredRecipe.id})">
                                <i class="fas fa-bookmark"></i> Save Recipe
                            </button>
                        </div>
                    </div>
                `;
            }
        }

        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            let stars = '';
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            
            const emptyStars = 5 - Math.ceil(rating);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }

        function generatePagination() {
            const totalPages = Math.ceil(filteredRecipes.length / recipesPerPage);
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }

            let paginationHTML = '';

            // Previous button
            paginationHTML += `
                <button ${currentPage === 1 ? 'disabled' : ''} onclick="changePage(${currentPage - 1})">
                    <i class="fas fa-chevron-left"></i>
                </button>
            `;

            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 2 && i <= currentPage + 2)) {
                    paginationHTML += `
                        <button class="${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">
                            ${i}
                        </button>
                    `;
                } else if (i === currentPage - 3 || i === currentPage + 3) {
                    paginationHTML += '<span>...</span>';
                }
            }

            // Next button
            paginationHTML += `
                <button ${currentPage === totalPages ? 'disabled' : ''} onclick="changePage(${currentPage + 1})">
                    <i class="fas fa-chevron-right"></i>
                </button>
            `;

            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            const totalPages = Math.ceil(filteredRecipes.length / recipesPerPage);
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                loadRecipes();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function goToRecipe(recipeId) {
            window.location.href = `../recipe-detail.html?id=${recipeId}`;
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
